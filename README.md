# ğŸ¤– News Sentiment AI Agent System

AI Agent ê¸°ë°˜ ë‰´ìŠ¤ ê°ì • ë¶„ì„ ì‹œìŠ¤í…œ - 4ì¼ì°¨ ê°•ì˜ìš© ì™„ì „í•œ ì†ŒìŠ¤ì½”ë“œ í”„ë¡œì íŠ¸

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” **LangChain AI Agent**ë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ ë‰´ìŠ¤ ê°ì • ë¶„ì„ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. FastAPI ë°±ì—”ë“œì™€ Next.js í”„ë¡ íŠ¸ì—”ë“œë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, Dockerë¥¼ í†µí•œ ì»¨í…Œì´ë„ˆí™”ì™€ GitHub Actionsë¥¼ í†µí•œ CI/CD íŒŒì´í”„ë¼ì¸ì„ ì œê³µí•©ë‹ˆë‹¤.

### ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

- **ğŸ¤– AI Agent ê¸°ë°˜ ë¶„ì„**: LangChain ReAct íŒ¨í„´ìœ¼ë¡œ êµ¬í˜„ëœ ë©€í‹° ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ
- **ğŸ“Š ì‹¤ì‹œê°„ ê°ì • ë¶„ì„**: OpenAI APIë¥¼ í™œìš©í•œ ë‰´ìŠ¤ ê¸°ì‚¬ ë° ëŒ“ê¸€ ê°ì • ë¶„ì„
- **ğŸ” ì§€ëŠ¥í˜• ë‰´ìŠ¤ ìˆ˜ì§‘**: ë„¤ì´ë²„ ë‰´ìŠ¤ì™€ êµ¬ê¸€ ë‰´ìŠ¤ í¬ë¡¤ë§ ì§€ì›
- **ğŸ“ˆ ë°ì´í„° ì‹œê°í™”**: Rechartsë¥¼ í™œìš©í•œ ê°ì • ë¶„í¬ ë° í‚¤ì›Œë“œ í´ë¼ìš°ë“œ
- **ğŸš€ í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜**: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ ë° ì»¨í…Œì´ë„ˆí™”
- **âš¡ ê³ ì„±ëŠ¥ ì²˜ë¦¬**: ë¹„ë™ê¸° ì²˜ë¦¬ ë° Redis ìºì‹±

### ğŸ—ï¸ ê¸°ìˆ  ìŠ¤íƒ

#### Backend
- **FastAPI** 0.104.1 - ë¹„ë™ê¸° ì›¹ í”„ë ˆì„ì›Œí¬
- **LangChain** 0.0.335 - AI Agent í”„ë ˆì„ì›Œí¬
- **SQLAlchemy** 2.0.23 - ORM ë° ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬
- **MySQL** 8.0 - ì£¼ ë°ì´í„°ë² ì´ìŠ¤
- **Redis** 7.2 - ìºì‹± ë° ì„¸ì…˜ ê´€ë¦¬
- **OpenAI API** - ê°ì • ë¶„ì„ ë° ìì—°ì–´ ì²˜ë¦¬

#### Frontend
- **Next.js** 14.0.3 - React ê¸°ë°˜ í’€ìŠ¤íƒ í”„ë ˆì„ì›Œí¬
- **TypeScript** 5.2.2 - íƒ€ì… ì•ˆì •ì„±
- **Tailwind CSS** 3.3.6 - ìœ í‹¸ë¦¬í‹° ìš°ì„  CSS í”„ë ˆì„ì›Œí¬
- **Recharts** 2.8.0 - ë°ì´í„° ì‹œê°í™”
- **Axios** 1.6.2 - HTTP í´ë¼ì´ì–¸íŠ¸

#### Agent
- **Python 3.11** - Agent ì‹¤í–‰ í™˜ê²½
- **Selenium** - ì›¹ í¬ë¡¤ë§ (ë„¤ì´ë²„/êµ¬ê¸€ ë‰´ìŠ¤)
- **LangChain** - AI Agent í”„ë ˆì„ì›Œí¬
- **OpenAI/Gemini** - ê°ì„± ë¶„ì„

#### DevOps
- **Docker** & **Docker Compose** - ì»¨í…Œì´ë„ˆí™”
- **GitHub Actions** - CI/CD íŒŒì´í”„ë¼ì¸
- **Nginx** - ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ (ì„ íƒì‚¬í•­)

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- Docker & Docker Compose
- Node.js 18+ (ë¡œì»¬ ê°œë°œì‹œ)
- Python 3.11+ (ë¡œì»¬ ê°œë°œì‹œ)
- OpenAI API í‚¤

### 2. í”„ë¡œì íŠ¸ í´ë¡  ë° ì„¤ì •

```bash
# í”„ë¡œì íŠ¸ í´ë¡ 
git clone <repository-url>
cd aiagent

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
```

### 3. í™˜ê²½ ë³€ìˆ˜ êµ¬ì„±

`.env` íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ í•„ìš”í•œ ê°’ë“¤ì„ ì„¤ì •í•˜ì„¸ìš”:

```bash
# ì¤‘ìš”: OpenAI API í‚¤ ì„¤ì • í•„ìˆ˜
OPENAI_API_KEY=sk-your-openai-api-key-here

# ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ê¶Œì¥
MYSQL_ROOT_PASSWORD=your-secure-password
MYSQL_PASSWORD=your-secure-password

# í”„ë¡œë•ì…˜ì—ì„œ SECRET_KEY ë³€ê²½ í•„ìˆ˜
SECRET_KEY=your-super-secret-key-change-this-in-production
```

### 4. Docker Composeë¡œ ì „ì²´ ìŠ¤íƒ ì‹¤í–‰

```bash
# ì „ì²´ ìŠ¤íƒ ì‹œì‘ (MySQL, Redis, Agent, Backend, Frontend)
docker-compose up -d

# ë¡œê·¸ í™•ì¸
docker-compose logs -f

# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
docker-compose ps
```

### 5. ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ì†

- **í”„ë¡ íŠ¸ì—”ë“œ**: http://localhost:3000
- **ë°±ì—”ë“œ API**: http://localhost:8000
- **API ë¬¸ì„œ**: http://localhost:8000/docs
- **Agent ì„œë¹„ìŠ¤**: http://localhost:8001

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
aiagent/
â”œâ”€â”€ agent/                      # Python Agent
â”‚   â”œâ”€â”€ news_agent.py          # News Analysis Agent
â”‚   â”œâ”€â”€ server.py              # Agent HTTP ì„œë²„
â”‚   â”œâ”€â”€ tools/                 # Agent Tools
â”‚   â”‚   â”œâ”€â”€ news_scraper/     # ë‰´ìŠ¤ í¬ë¡¤ë§ Tool (ë„¤ì´ë²„/êµ¬ê¸€)
â”‚   â”‚   â””â”€â”€ data_analyzer/    # ê°ì„± ë¶„ì„ Tool
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ backend/                    # FastAPI ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.py           # FastAPI ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ api/routes/       # API ë¼ìš°í„°
â”‚   â”‚   â”œâ”€â”€ services/         # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â””â”€â”€ core/            # ì„¤ì • ë° DB
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ frontend/                   # Next.js í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ app/                  # Next.js App Router
â”‚   â”œâ”€â”€ components/           # React ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ common/                     # ê³µí†µ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ config.py            # ì„¤ì • ê´€ë¦¬
â”‚   â”œâ”€â”€ models.py            # ê³µí†µ ë°ì´í„° ëª¨ë¸
â”‚   â”œâ”€â”€ utils.py             # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â””â”€â”€ security.py          # ë³´ì•ˆ ê´€ë ¨ í•¨ìˆ˜
â”œâ”€â”€ docker-compose.yml         # ì „ì²´ ìŠ¤íƒ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
â”œâ”€â”€ .env.example              # í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
â””â”€â”€ README.md                 # ì´ ë¬¸ì„œ
```

## ğŸ”§ ê°œë°œ í™˜ê²½ ì„¤ì •

### Backend ë¡œì»¬ ê°œë°œ

```bash
cd backend

# Python ê°€ìƒí™˜ê²½ ì„¤ì •
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
# (Docker Compose MySQL ì‹¤í–‰ ìƒíƒœì—ì„œ)
python -m alembic upgrade head

# ê°œë°œ ì„œë²„ ì‹¤í–‰
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### Frontend ë¡œì»¬ ê°œë°œ

```bash
cd frontend

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# ë¹Œë“œ
npm run build

# í”„ë¡œë•ì…˜ ì‹¤í–‰
npm start
```

### Agent ë¡œì»¬ ê°œë°œ

```bash
# Agent í…ŒìŠ¤íŠ¸
python -m agent.news_agent

# Agent ì„œë²„ ì‹¤í–‰
python -m agent.server
```

## ğŸ§ª í…ŒìŠ¤íŠ¸

### Backend í…ŒìŠ¤íŠ¸

```bash
cd backend
pytest tests/ -v
```

### Frontend í…ŒìŠ¤íŠ¸

```bash
cd frontend
npm run test
npm run lint
```

## ğŸš€ ë°°í¬

### GitHub Actionsë¥¼ í†µí•œ ìë™ ë°°í¬

1. GitHub Secrets ì„¤ì •:
   - `OPENAI_API_KEY`: OpenAI API í‚¤
   - `PRODUCTION_HOST`: í”„ë¡œë•ì…˜ ì„œë²„ í˜¸ìŠ¤íŠ¸
   - `PRODUCTION_USER`: SSH ì‚¬ìš©ìëª…
   - `PRODUCTION_SSH_KEY`: SSH ê°œì¸ í‚¤
   - `SLACK_WEBHOOK`: Slack ì•Œë¦¼ ì›¹í›… (ì„ íƒì‚¬í•­)

2. main ë¸Œëœì¹˜ì— í‘¸ì‹œí•˜ë©´ ìë™ ë°°í¬ ì‹¤í–‰

### ìˆ˜ë™ ë°°í¬

```bash
# í”„ë¡œë•ì…˜ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env.production

# í”„ë¡œë•ì…˜ ë¹Œë“œ ë° ë°°í¬
docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d
```

## ğŸ“Š AI Agent ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### Agent êµ¬ì„±ìš”ì†Œ

1. **NewsScrapingAgent**: ë‰´ìŠ¤ ê¸°ì‚¬ ìˆ˜ì§‘
   - ë„¤ì´ë²„ ë‰´ìŠ¤ í¬ë¡¤ë§
   - êµ¬ê¸€ ë‰´ìŠ¤ í¬ë¡¤ë§
   - ì†ŒìŠ¤ ì„ íƒ ê¸°ëŠ¥

2. **SentimentAnalysisAgent**: ê°ì • ë¶„ì„
   - OpenAI GPT ëª¨ë¸ í™œìš©
   - ê¸ì •/ë¶€ì •/ì¤‘ë¦½ ë¶„ë¥˜
   - ì‹ ë¢°ë„ ì ìˆ˜ ì œê³µ

3. **KeywordExtractionAgent**: í‚¤ì›Œë“œ ì¶”ì¶œ
   - ì£¼ìš” í‚¤ì›Œë“œ ì‹ë³„
   - ë¹ˆë„ìˆ˜ ë¶„ì„
   - ì—°ê´€ í‚¤ì›Œë“œ ë§¤ì¹­

### ReAct íŒ¨í„´ êµ¬í˜„

```python
# Agent ì‹¤í–‰ í”Œë¡œìš° ì˜ˆì‹œ
async def analyze_news(keyword: str, sources: List[str]):
    # 1. Reasoning: ë¶„ì„ ê³„íš ìˆ˜ë¦½
    plan = await agent.reason(f"Analyze news about '{keyword}' from {sources}")

    # 2. Action: ë‰´ìŠ¤ ìˆ˜ì§‘
    articles = await news_agent.scrape(keyword, sources)

    # 3. Observation: ê²°ê³¼ ê´€ì°°
    results = await sentiment_agent.analyze(articles)

    # 4. ìµœì¢… ì‘ë‹µ ìƒì„±
    return await agent.synthesize(results)
```

## ğŸ” API ë¬¸ì„œ

### ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸

#### POST /api/agents/analyze
ë‰´ìŠ¤ ê°ì • ë¶„ì„ ìš”ì²­

```json
{
  "keyword": "ì¸ê³µì§€ëŠ¥",
  "sources": ["ë„¤ì´ë²„", "êµ¬ê¸€"],
  "max_articles": 50
}
```

#### GET /api/analysis/{session_id}
ë¶„ì„ ê²°ê³¼ ì¡°íšŒ

#### GET /api/analysis/sessions
ë¶„ì„ ì„¸ì…˜ ëª©ë¡ ì¡°íšŒ

#### Agent ì„œë¹„ìŠ¤ ì—”ë“œí¬ì¸íŠ¸

- `GET /health`: Agent í—¬ìŠ¤ì²´í¬
- `POST /analyze`: ë‰´ìŠ¤ ë¶„ì„ ì‹¤í–‰
- `POST /analyze-sentiment`: ìì—°ì–´ ì§ˆì˜ ë¶„ì„

ìì„¸í•œ API ë¬¸ì„œëŠ” http://localhost:8000/docs ì—ì„œ í™•ì¸í•˜ì„¸ìš”.

## ğŸ”’ ë³´ì•ˆ ê°€ì´ë“œë¼ì¸

ì´ í”„ë¡œì íŠ¸ëŠ” í•œêµ­ ê°œì¸ì •ë³´ë³´í˜¸ë²• ë° ISMS-P ìˆ˜ì¤€ì˜ ë³´ì•ˆ ê°€ì´ë“œë¼ì¸ì„ ë”°ë¦…ë‹ˆë‹¤.

### ì£¼ìš” ë³´ì•ˆ ì‚¬í•­

1. **API í‚¤ ê´€ë¦¬**
   - í™˜ê²½ ë³€ìˆ˜ì—ì„œë§Œ ì½ê¸°
   - ë¡œê·¸ì— ì ˆëŒ€ ë…¸ì¶œí•˜ì§€ ì•ŠìŒ
   - .env íŒŒì¼ì„ .gitignoreì— ì¶”ê°€

2. **ì…ë ¥ ê²€ì¦**
   - ëª¨ë“  ì‚¬ìš©ì ì…ë ¥ ê²€ì¦
   - SQL Injection ë°©ì§€
   - XSS ë°©ì§€

3. **í¬ë¡¤ë§**
   - robots.txt ì¤€ìˆ˜
   - Rate Limit ì¤€ìˆ˜
   - User-Agent ì„¤ì •

4. **ì—ëŸ¬ ì²˜ë¦¬**
   - ë¯¼ê°í•œ ì •ë³´ë¥¼ ì—ëŸ¬ ë©”ì‹œì§€ì— í¬í•¨í•˜ì§€ ì•ŠìŒ
   - ì¼ë°˜í™”ëœ ì—ëŸ¬ ë©”ì‹œì§€ ì œê³µ

ìì„¸í•œ ë‚´ìš©ì€ `PROJECT_REVIEW.md`ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ¤ ê¸°ì—¬ ë°©ë²•

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“ ë¼ì´ì„¼ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„¼ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ `LICENSE` íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ†˜ ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

1. **OpenAI API í‚¤ ì˜¤ë¥˜**
   - `.env` íŒŒì¼ì˜ `OPENAI_API_KEY` í™•ì¸
   - API í‚¤ ìœ íš¨ì„± ë° í¬ë ˆë”§ ì”ì•¡ í™•ì¸

2. **ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜**
   - Docker MySQL ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸
   - í™˜ê²½ ë³€ìˆ˜ì˜ ë°ì´í„°ë² ì´ìŠ¤ ì •ë³´ í™•ì¸

3. **í¬íŠ¸ ì¶©ëŒ**
   - 3000, 8000, 8001, 3306 í¬íŠ¸ ì‚¬ìš© ì—¬ë¶€ í™•ì¸
   - `docker-compose.yml`ì—ì„œ í¬íŠ¸ ë³€ê²½ ê°€ëŠ¥

4. **Agent ì„œë¹„ìŠ¤ ì˜¤ë¥˜**
   - Chrome ë¸Œë¼ìš°ì € ì„¤ì¹˜ í™•ì¸
   - Agent ë¡œê·¸ í™•ì¸: `docker-compose logs agent`

5. **ë©”ëª¨ë¦¬ ë¶€ì¡±**
   - Docker Desktop ë©”ëª¨ë¦¬ í• ë‹¹ ì¦ê°€
   - ë¶ˆí•„ìš”í•œ ì»¨í…Œì´ë„ˆ ì •ë¦¬

### ë¡œê·¸ í™•ì¸

```bash
# ì „ì²´ ë¡œê·¸
docker-compose logs

# íŠ¹ì • ì„œë¹„ìŠ¤ ë¡œê·¸
docker-compose logs backend
docker-compose logs frontend
docker-compose logs agent
docker-compose logs mysql
```

## ğŸ“š ë¬¸ì„œ

- [QUICK_START.md](QUICK_START.md): ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ
- [DOCKER_SETUP.md](DOCKER_SETUP.md): ìƒì„¸í•œ Docker ì„¤ì • ê°€ì´ë“œ
- [PROJECT_REVIEW.md](PROJECT_REVIEW.md): í”„ë¡œì íŠ¸ êµ¬ì¡° ë° ë¦¬íŒ©í† ë§ ê³„íš
- [AGENT_REFACTORING_SUMMARY.md](AGENT_REFACTORING_SUMMARY.md): Agent ë¦¬íŒ©í† ë§ ìš”ì•½
- [agent/README.md](agent/README.md): Agent ì‚¬ìš© ê°€ì´ë“œ

## ğŸ“ ì§€ì›

ë¬¸ì œê°€ ìˆê±°ë‚˜ ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ ë‹¤ìŒ ë°©ë²•ìœ¼ë¡œ ì—°ë½í•´ì£¼ì„¸ìš”:

- GitHub Issues: ë²„ê·¸ ë¦¬í¬íŠ¸ ë° ê¸°ëŠ¥ ìš”ì²­
- ì´ë©”ì¼: your-email@example.com
- ìŠ¬ë™: #ai-agents-support

---

ğŸ“ **4ì¼ì°¨ AI Agent ê°•ì˜ìš© í”„ë¡œì íŠ¸**

ì´ í”„ë¡œì íŠ¸ëŠ” AI Agentì˜ ì‹¤ì œ êµ¬í˜„ ë°©ë²•ì„ í•™ìŠµí•˜ê¸° ìœ„í•œ êµìœ¡ìš© ìë£Œì…ë‹ˆë‹¤. 
ì‹¤ì œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì‚¬ìš©í•˜ê¸° ì „ì— ë³´ì•ˆ ë° ì„±ëŠ¥ ìµœì í™”ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.
